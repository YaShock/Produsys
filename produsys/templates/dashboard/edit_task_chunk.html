{% extends 'base.html' %}

{% block header %}
  <h1>{% block page_title %} {% if tc_id %}Edit{% else %}Add{% endif %} interval for {{ task.name }}{% endblock %}</h1>
{% endblock %}

{% block app_content %}
  <form class="form-inline" action="{{ url_for('dashboard.edit_task_chunk', task_id=task.id, tc_id=tc_id) }}" method="post">
    <div>
      <label for="datetimepicker1">Start</label>
      <div class="form-group">
        <div class='input-group date' id='datetimepicker1'>
          <input type='text' class="form-control" name="start_time" value="{{ start_time }}" />
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-calendar"></span>
          </span>
        </div>
      </div>
    </div>
    <div>
      <label for="datetimepicker2">End</label>
      <div class="form-group">
        <div class='input-group date' id='datetimepicker2'>
          <input type='text' class="form-control" name="end_time" value="{{ end_time }}" />
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-calendar"></span>
          </span>
        </div>
      </div>
    </div>
    <div class="help-block"></div>
    <input type="url" class="location" name="return_url" value="{{ return_url }}" hidden />
    <input class="btn btn-primary btn-sm" type="submit" value="Add">
  </form>
  <div class="help-block"></div>
  <form class="form-inline" action="{{ return_url }}" method="get">
    <input class="btn btn-primary btn-sm" type="submit" value="Cancel">
  </form>

  <script>
    window.onload = function () {
      $('#datetimepicker1').datetimepicker({
        format: 'YYYY/MM/DD HH:mm:ss'
      });
      $('#datetimepicker2').datetimepicker({
        format: 'YYYY/MM/DD HH:mm:ss'
      });
    };
  </script>
{% endblock %}
